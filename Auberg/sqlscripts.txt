CREATE TABLE  "ACCOMODATIONS" 
   (	"ACCOMMODATION_ID" NUMBER, 
	"HOSTEL_NAME" VARCHAR2(255), 
	"HOSTEL_ADDRESS" VARCHAR2(255), 
	"BEDS_PER_ROOM" NUMBER, 
	 PRIMARY KEY ("ACCOMMODATION_ID") ENABLE
   ) ;

CREATE OR REPLACE TRIGGER  "ACCOMMODATION_ID_TRIGGER" 
BEFORE INSERT ON accomodations
FOR EACH ROW
BEGIN
    SELECT accommodation_id_seq.NEXTVAL INTO :NEW.accommodation_id FROM DUAL;
END;
/
ALTER TRIGGER  "ACCOMMODATION_ID_TRIGGER" ENABLE;


CREATE TABLE  "BOOKINGS" 
   (	"BOOKING_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"VEHICLE_ID" NUMBER, 
	 PRIMARY KEY ("BOOKING_ID") ENABLE
   ) ;ALTER TABLE  "BOOKINGS" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES  "USERS" ("USER_ID") ENABLE;ALTER TABLE  "BOOKINGS" ADD FOREIGN KEY ("VEHICLE_ID")
	  REFERENCES  "VEHICLES" ("VEHICLE_ID") ENABLE;

CREATE OR REPLACE TRIGGER  "BOOKINGS_TRIGGER" 
BEFORE INSERT ON bookings
FOR EACH ROW
BEGIN
    SELECT booking_id_sequence.NEXTVAL INTO :NEW.booking_id FROM DUAL;
END;
/
ALTER TRIGGER  "BOOKINGS_TRIGGER" ENABLE;


CREATE TABLE  "BOOK_ACCOMMODATION" 
   (	"BOOKING_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"ACCOMMODATION_ID" NUMBER, 
	 PRIMARY KEY ("BOOKING_ID") ENABLE
   ) ;ALTER TABLE  "BOOK_ACCOMMODATION" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES  "USERS" ("USER_ID") ENABLE;ALTER TABLE  "BOOK_ACCOMMODATION" ADD FOREIGN KEY ("ACCOMMODATION_ID")
	  REFERENCES  "ACCOMODATIONS" ("ACCOMMODATION_ID") ENABLE;

CREATE OR REPLACE TRIGGER  "BOOKING_ID_TRIGGER" 
BEFORE INSERT ON book_accommodation
FOR EACH ROW
BEGIN
    SELECT booking_id_seq.NEXTVAL
    INTO :new.booking_id
    FROM dual;
END;
/
ALTER TRIGGER  "BOOKING_ID_TRIGGER" ENABLE;



CREATE TABLE  "USERS" 
   (	"USER_ID" NUMBER, 
	"USERNAME" VARCHAR2(50) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(100) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(50) NOT NULL ENABLE, 
	"ADDRESS" VARCHAR2(255) NOT NULL ENABLE, 
	"PHONE_NUMBER" VARCHAR2(20) NOT NULL ENABLE, 
	"PARENT_DETAILS" VARCHAR2(255) NOT NULL ENABLE, 
	"AGE" NUMBER NOT NULL ENABLE, 
	"GENDER" VARCHAR2(10) NOT NULL ENABLE, 
	"AADHAR_NUMBER" VARCHAR2(20) NOT NULL ENABLE, 
	"COLLEGE_NAME" VARCHAR2(100) NOT NULL ENABLE, 
	"COLLEGE_ADDRESS" VARCHAR2(255) NOT NULL ENABLE, 
	 PRIMARY KEY ("USER_ID") ENABLE
   ) ;

CREATE OR REPLACE TRIGGER  "USER_ID_TRIGGER" 
BEFORE INSERT ON USERS
FOR EACH ROW
BEGIN
    SELECT user_id_seq.NEXTVAL INTO :new.USER_ID FROM DUAL;
END;
/
ALTER TRIGGER  "USER_ID_TRIGGER" ENABLE;


CREATE TABLE  "VEHICLE" 
   (	"USER_ID" NUMBER, 
	"VEHICLE_ID" NUMBER
   ) ;
   
   
   CREATE TABLE  "VEHICLES" 
   (	"VEHICLE_ID" NUMBER, 
	"VEHICLE_TYPE" VARCHAR2(20), 
	"VEHICLE_IMG" VARCHAR2(1000), 
	 PRIMARY KEY ("VEHICLE_ID") ENABLE
   ) ;
   